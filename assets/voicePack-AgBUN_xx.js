import{C as e,E as t,T as n,a as r,f as i,g as a,h as o,l as s,m as c,s as l,t as u,u as d,v as f,w as p,y as m}from"./index-h5C3UCI9.js";import{t as h}from"./1-DMMkNdUz.js";import{t as g}from"./_plugin-vue_export-helper-CyLenvdg.js";var _={class:`voice-section`},v={class:`voice-list`},y=[`onClick`],b={class:`voice-text`},x=[`src`,`onTimeupdate`],S={key:0,class:`voice-progress`},C=g(c({__name:`voicePack`,emits:[`avatar-talk`],setup(c,{emit:h}){let g=h,C=e([]);(async()=>{let e={"/src/assets/voicePack/下雨的时候.wav":()=>u(()=>import(`./下雨的时候-7RqyLUlf.js`),[]),"/src/assets/voicePack/刮大风了.wav":()=>u(()=>import(`./刮大风了-Wu2DFOVt.js`),[]),"/src/assets/voicePack/哒哒哒~.mp3":()=>u(()=>import(`./哒哒哒~-D42RI-db.js`),[]),"/src/assets/voicePack/打雷的时候.wav":()=>u(()=>import(`./打雷的时候-OcbfTlFz.js`),[]),"/src/assets/voicePack/早上好.wav":()=>u(()=>import(`./早上好-y_g20XRc.js`),[]),"/src/assets/voicePack/轰轰火花.mp3":()=>u(()=>import(`./轰轰火花-BOfUQ_sc.js`),[]),"/src/assets/voicePack/闲聊·冒险.wav":()=>u(()=>import(`./闲聊·冒险-Bu-0wSTO.js`),[]),"/src/assets/voicePack/闲聊·守则.wav":()=>u(()=>import(`./闲聊·守则-BQ1Ag8ck.js`),[]),"/src/assets/voicePack/闲聊·收获.wav":()=>u(()=>import(`./闲聊·收获-B-PFYx5Z.js`),[])},t=[];for(let n in e){let r=e[n]?.().then(e=>({src:e.default,text:n.split(`/`).pop()?.replace(/\.(mp3|wav)$/i,``)||`未知`}));r&&t.push(r)}C.value=await Promise.all(t)})();let w=e([]),T=e(-1),E=e(!1),D=e(0),O=e=>{let t=w.value[e];if(t){if(T.value===e&&E.value){t.pause(),E.value=!1;return}if(T.value!==-1){let e=w.value[T.value];e&&e.pause()}T.value=e,t.play(),E.value=!0,g(`avatar-talk`)}},k=()=>{E.value=!1,D.value=0},A=e=>{if(T.value!==e)return;let t=w.value[e];t&&t.duration&&(D.value=t.currentTime/t.duration*100)};return a(()=>{o(()=>{let e=document.querySelectorAll(`audio`);w.value=Array.from(e)})}),(e,a)=>(f(),d(`div`,_,[a[1]||=l(`h3`,{class:`voice-title`},[l(`img`,{src:`/assets/1-DESvgY8H.png`,style:{width:`25px`,height:`25px`}}),i(` 角色语音 `)],-1),l(`div`,v,[(f(!0),d(r,null,m(C.value,(e,r)=>(f(),d(`div`,{class:`voice-item`,key:r,onClick:e=>O(r)},[l(`div`,{class:p([`voice-play-btn`,{playing:T.value===r&&E.value}])},[l(`i`,{class:p([`fa`,T.value===r&&E.value?`fa-pause`:`fa-play`])},null,2)],2),l(`div`,b,[l(`p`,null,t(e.text),1),a[0]||=l(`div`,{class:`voice-tags`},[l(`span`,{class:`voice-tag`},`日常`)],-1)]),l(`audio`,{ref_for:!0,ref_key:`audioElements`,ref:w,src:e.src,onEnded:k,onTimeupdate:e=>A(r)},null,40,x),T.value===r?(f(),d(`div`,S,[l(`div`,{class:`progress-bar`,style:n({width:D.value+`%`})},null,4)])):s(``,!0)],8,y))),128))])]))}}),[[`__scopeId`,`data-v-35a96d70`]]);export{C as t};